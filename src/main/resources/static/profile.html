<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Pulse Connect</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .profile-page { padding-top: 100px; }
        .card { background: #fff; border-radius: 16px; box-shadow: var(--shadow-md); padding: 2rem; }
        .card-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:1rem; }
        .badge { padding: .25rem .5rem; border-radius: 999px; background: var(--bg-light); color: var(--text-dark); font-size: .85rem; }
        .grid-2 { display:grid; grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); gap:1rem; }
        .actions { display:flex; gap:1rem; margin-top:1rem; }
    </style>
    <script>
        if (!localStorage.getItem('pc_user')) {
            window.location.href = '/';
        }
    </script>
    <script defer src="js/profile.js"></script>
    <script defer src="js/script.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', ()=>{ updateAuthUI && updateAuthUI(); });
    </script>
    </head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-heartbeat"></i>
                <span>Pulse Connect</span>
            </div>
            <div class="nav-menu">
                <a href="/" class="nav-link">Home</a>
                <a href="/profile.html" class="nav-link active">Profile</a>
                <button id="login-button" class="btn-primary"><i class="fas fa-sign-in-alt"></i> Login</button>
            </div>
        </div>
    </nav>

    <section class="profile-page">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-user-circle"></i> My Profile</h2>
                    <span id="profile-role" class="badge">Role</span>
                </div>
                <form id="profile-form">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input id="pf-fullName" class="form-control" type="text"/>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input id="pf-email" class="form-control" type="email" disabled/>
                        </div>
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input id="pf-phone" class="form-control" type="tel"/>
                        </div>
                        <div class="form-group">
                            <label>Blood Group</label>
                            <select id="pf-blood" class="form-control">
                                <option value="A_POSITIVE">A+</option>
                                <option value="A_NEGATIVE">A-</option>
                                <option value="B_POSITIVE">B+</option>
                                <option value="B_NEGATIVE">B-</option>
                                <option value="AB_POSITIVE">AB+</option>
                                <option value="AB_NEGATIVE">AB-</option>
                                <option value="O_POSITIVE">O+</option>
                                <option value="O_NEGATIVE">O-</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>City</label>
                            <input id="pf-city" class="form-control" type="text"/>
                        </div>
                        <div class="form-group">
                            <label>State</label>
                            <input id="pf-state" class="form-control" type="text"/>
                        </div>
                        <div class="form-group">
                            <label>Pincode</label>
                            <input id="pf-pincode" class="form-control" type="text"/>
                        </div>
                        <div class="form-group" style="grid-column:1/-1;">
                            <label>Address</label>
                            <textarea id="pf-address" class="form-control" rows="2"></textarea>
                        </div>
                    </div>
                    <div class="actions">
                        <button type="button" class="btn-secondary" onclick="window.location.href='/'"><i class="fas fa-arrow-left"></i> Back</button>
                        <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <div id="toast" class="toast"></div>
</body>
</html>
